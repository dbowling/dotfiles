[ -f $HOME/.env ] && source $HOME/.env
[ -f $ZSH/oh-my-zsh.sh ] && source $ZSH/oh-my-zsh.sh
[ -f $HOME/.aliases ] && source $HOME/.aliases
[ -f /usr/local/etc/profile.d/z.sh ] && source /usr/local/etc/profile.d/z.sh
[ -f $HOME/.iterm2_shell_integration.zsh ] && source ~/.iterm2_shell_integration.zsh
# [ -f $ZSCRIPTS/completions.zsh ] && source $ZSCRIPTS/completions.zsh

if [ -d $ZSCRIPTS ]; then
    for file in $ZSCRIPTS**/*.zsh; do
        source "$file"
    done
fi

source $ZPLUG_HOME/init.zsh

zplug "junegunn/fzf"
zplug "zsh-users/zsh-completions"
zplug "lukechilds/zsh-better-npm-completion"
zplug "reegnz/jq-zsh-plugin", defer:2
zplug "akoenig/gulp.plugin.zsh"
zplug "akoenig/npm-run.plugin.zsh"
zplug "plugins/git",   from:oh-my-zsh
zplug "plugins/zsh-syntax-highlighting", from:oh-my-zsh
zplug "marlonrichert/zsh-autocomplete"
zplug "djui/alias-tips"
zplug "zsh-users/zsh-apple-touchbar"

if ! zplug check --verbose; then
    printf "Install? [y/N]: "
    if read -q; then
        echo; zplug install
    fi
fi

zplug load #--verbose

autoload -U colors && colors

# Initialize the autocompletion
_comp_options+=(globdots)
# source $ZSCRIPTS/completions.zsh
autoload -Uz compinit && compinit -i



# MUST BE AT END OF .zshrc

eval "$(starship init zsh)"

if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi
